## 시스템콜(System call)
#### 공부 날짜: 2024/07/04

<br><br>
### 키워드
- 

<br>

### 시스템 콜? 
> 운영체제의 서비스를 제공받기 위한 요청 

<br>
시스템 호출은 운영체제 서비스를 제공받기 위한 방법으로, 시스템 호출 종류만 잘 파악해도 해당 운영체제를 깊이 이해할 수 있다. 

<br><br>


### 시스템 호출의 종류(유닉스,리눅스 등 운영체제)

#### 1. 프로세스 관리
- fork(): 새 자식 프로세스 생성 
- execve(): 프로셋 실행
- exit(): 프로세스 종료 
- waitpid(): 자식 프로세스가 종료할 때까지 대기 

#### 2. 파일 관리 
- open(): 파일 열기
- close(): 파일 닫기 
- read(): 파일 읽기
- write(): 파일 쓰기 
- stat(): 파일 정보 흭득 

#### 3.디렉터리 관리 
- chdir(): 작업 디렉터리 변경 
- mkdir(): 디렉터리 생성
- rmdir(): 비어있는 디렉터리 삭제 

#### 4. 파일 시스템 관리 
- mount(): 파일 시스템 마운트
- unmount(): 파일 시스템 마운트 해제

#### 5. 메모리 관리 
- 메모리 할당 및 해제

#### 6. 통신 시스템 관리 
- 프로세스 간의 통신(IPC)을 관리하는 시스템 호출로는 소켓 통신, 파이프 통신,메시지 큐 등이 포함된다. 

<br><br>

🤔시스템 호출을 직접 사용하지 않고 API를 통해 접근하는 이유는? 

A. 
1. API는 특정 운영체제나 하드웨어에 종속되지 않기 때문이다. 
2. 직접 사용하면 오류 발생 가능성이 높기 때문
3. 시스템 호출은 운영체제의 핵심 기능에 접근해서 잘못된 사용은 시스템 전체의 안정성과 보안에 위협을 준다. 따라서 API는 시스템 호출을 **래핑**해 **권한 검사 및 보안 정책**을 적용해, 안전한 프로그래밍 환경을 제공한다.

등의 이유가 있다. 


<br>

### 시스템 콜의 과정 
```ASCII
User Mode                             Kernel Mode
----------                           ----------------
|        |                           |              |
|  App   | -- System Call Request -> |  Kernel      |
|        |                           |              |
| (User) | <-- Results & Control --- | (Privileged) |
----------                           ----------------
```

1. user mode의 응용 프로그램이 system call 요청 
2. CPU가 권한을 변경: CPU가 커널에서 명령어를 실행하기 위해 '권한 모드'로 전환한다. 
3. OS가 입력을 확인: 커널모드에서 OS가 시스템 호출의 입력을 확인하고 처리한다. 
4. 실행: 커널이 필요한 작업(하드웨어 접근,리소스 관리)을 수행한다. 
5. user mode로 돌아가기: 결과 및 제어가 user mode의 응용 프로그램으로 다시 전달된다.

<br><br>

#### 참고 자료
[시스템 호출 종류](https://blog.jyotiprakash.org/system-calls)
[자료](https://github.com/devSquad-study/2023-CS-Study/blob/main/OS/os_system_call.md)